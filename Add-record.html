<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Record - Unearthed</title>
    <link rel="stylesheet" href="style.css">
   <style>
    /* This targets EVERY input and textarea in the form */
    .form-container input, 
    .form-container textarea {
        background-color: white !important; /* Forces background to white */
        color: #2b1b0f !important;           /* Dark brown text for readability */
        border: 2px solid #c9a14a !important; /* Gold border to match your theme */
        box-sizing: border-box !important;   /* Keeps boxes inside the frame */
        width: 100% !important;
    }

    /* Keeps the form from getting too wide or breaking the layout */
    .form-container {
        max-width: 480px; 
        margin: 30px auto;
        padding: 25px;
        overflow: hidden; 
    }
</style>
</head>
<body>
    <nav>
        <a href="index.html">Home</a>
        <a href="records.html">View Records</a>
        <a href="add-record.html">Add Record</a>
        <a href="ai-chat.html">AI Chat</a>
    </nav>

    <div id="loginSection" class="form-container">
        <h2>Archaeologist Login</h2>
        <form id="loginForm">
            <label>Username</label>
            <input type="text" id="username" placeholder="Enter your ID" required>
            <label>Password</label>
            <input type="password" id="password" placeholder="Enter Password" required>
            <button type="submit">Verify Credentials</button>
        </form>
        <p id="loginError" style="color: #ff4d4d; text-align: center;"></p>
    </div>

    <div id="addingForm" class="form-container" style="display: none;">
        <h2>Submit New Discovery</h2>
        <form id="artifactForm">
            <label>Archaeologist Name</label>
            <input type="text" id="archName" required>
            
            <label>Artifact Name</label>
            <input type="text" id="artName" required>
            
            <label>Location Found</label>
            <input type="text" id="location" required>
            
            <label>Estimated Time Period</label>
            <input type="text" id="timePeriod" placeholder="e.g. 500 BC">
            
            <label>Description</label>
            <textarea id="description" required></textarea>
            
            <label>Upload Photo</label>
            <input type="file" id="photo" accept="image/*">
            
            <label>Discovery Journey Video (Link)</label>
            <input type="text" id="video" placeholder="Paste video URL">
            
            <button type="submit">Save Record to Database</button>
        </form>
    </div>

    <script>
        // Multi-user Login Logic
        const users = [
            {user: "archaeo1", pass: "dig2026"},
            {user: "team_alpha", pass: "fllunearther"},
            {user: "prof_jones", pass: "artifact123"}
        ];

        const loginForm = document.getElementById('loginForm');
        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const u = document.getElementById('username').value;
            const p = document.getElementById('password').value;

            const validUser = users.find(user => user.user === u && user.pass === p);

            if (validUser) {
                document.getElementById('loginSection').style.display = 'none';
                document.getElementById('addingForm').style.display = 'block';
                // Store the name to remember who is logged in
                localStorage.setItem('currentUser', u); 
            } else {
                document.getElementById('loginError').innerText = "Invalid Archaeologist Credentials!";
            }
        });

        // Saving Record Logic
        const artifactForm = document.getElementById('artifactForm');
        artifactForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const newRecord = {
                arch: document.getElementById('archName').value,
                artifact: document.getElementById('artName').value,
                loc: document.getElementById('location').value,
                time: document.getElementById('timePeriod').value,
                desc: document.getElementById('description').value,
                video: document.getElementById('video').value
            };

            // Get existing records or start new array
            const records = JSON.parse(localStorage.getItem('archRecords') || '[]');
            records.push(newRecord);
            localStorage.setItem('archRecords', JSON.stringify(records));

            alert("Record Saved Successfully!");
            window.location.href = "records.html";
        });
    </script>
</body>
</html>